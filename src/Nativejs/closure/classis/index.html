<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Class example for closure</title>
</head>
<body>
<button id="question">question</button>
<button id="resolveClosure">resolveClosure</button>
<button id="resolveES6">resolveES6</button>
<script>
	const arr = [10, 12, 13, 15];

	function question() {
		for(var i = 0; i < arr.length; i++) {
			setTimeout(function () {
				console.log(i)
			}, 1000);
		}
	}

	function resolveClosure() {
		for(var i = 0;i<arr.length;i++){
			// 给每个函数传入变量 i 让其能访问正确的索引
			setTimeout(function(is){
				return function(){
					console.log(is)
				}
				//console.log(is)
			}(i), 3000)
		}
	}

	function resolveES6() {
		for(let i = 0;i< arr.length; i++){
			// 使用 ES6 中的 let 关键字，它会在函数调用时创建一个新的绑定
			// 了解更多：http://exploringjs.com/es6/ch_variables.html#sec_let-const-loop-heads
			setTimeout(function () {
				console.log(i);
			}, 1000)
		}
	}

</script>
</body>
</html>